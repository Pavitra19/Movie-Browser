(this["webpackJsonpmovie-browser"]=this["webpackJsonpmovie-browser"]||[]).push([[0],{112:function(e,t,n){},113:function(e,t,n){},114:function(e,t,n){},115:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(15),i=n.n(c),o=(n(91),n(76)),s=n(21),l=n.n(s),d=n(32),u=n(13),b=n(16),j=n(14),h=n(54),m=(n(93),n(147)),p=n(164),v=n(9),f=n(146),O=n(148),x=n(67),g=n.n(x),w=n(2),y=Object(f.a)((function(e){return{root:{flexGrow:1,width:"100%"},title:Object(b.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(b.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(v.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(v.c)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(b.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%",color:"black"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}}));function S(e){var t=e.handleSearch,n=Object(a.useState)(sessionStorage.getItem("searchTerm")||""),r=Object(u.a)(n,2),c=r[0],i=r[1],o=y(),s=[],l="https://www.omdbapi.com/?r=json&apikey=d66f3ecf&s=";Object(a.useEffect)((function(){return sessionStorage.setItem("searchTerm",c)}),[c]);return Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(m.a,{style:{color:"white"},children:Object(w.jsx)(p.a,{placeholder:"Search\u2026",onChange:function(e){i(e.target.value)},value:c,classes:{root:o.inputRoot,input:o.inputInput},inputProps:{"aria-label":"search"},onKeyDown:function(e){"Enter"===e.key&&c.trim().length>0&&(l+="".concat(c),t(c,l,s))},endAdornment:c&&Object(w.jsx)(O.a,{"aria-label":"Clear search",onClick:function(){i("")},children:Object(w.jsx)(g.a,{})})})})})}var I=n(68),k=n.n(I),T=(n(111),n(70)),R=n.n(T),N=n(71),C=n.n(N),F=n(149),D=n(69),A=n.n(D);function E(e){var t=e.favs,n=Object(a.useState)(!1),r=Object(u.a)(n,2),c=r[0],i=r[1];return Object(w.jsx)(F.a,{variant:"contained",color:c?"primary":"secondary",className:"share-btn",startIcon:!c&&Object(w.jsx)(A.a,{}),onClick:function(){!function(){var e=t.map((function(e){return e.imdbID})),n=window.location.protocol+"//"+window.location.host+window.location.pathname,a="?favourites=".concat(e.join(","));navigator.clipboard.writeText("".concat(n).concat(a)),i(!0),setTimeout((function(){return i(!1)}),1e3)}()},children:c?"Copied!":"Share Link"})}n(112);function P(e){var t=e.deviceType,n=e.favs,r=e.removeFav,c=n.length,i=[];Object(a.useEffect)((function(){var e=window.location.search;e.includes("?favourites=")&&e.split("?favourites=")[1].split(",").forEach((function(e){return o(e)}))}));var o=function(t){var a="https://www.omdbapi.com/?apikey=d66f3ecf&i=".concat(t);fetch(a).then(function(){var a=Object(d.a)(l.a.mark((function a(r){return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,r.json();case 2:r=a.sent,n.some((function(e){return e.imdbID===t}))||e.handleAddFav({Title:r.Title,img:r.Poster,alt:r.Title,imdbID:r.imdbID});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())};if(c<3)for(var s=3-c,u=0;u<=s;u++)i.push(Object(w.jsxs)("div",{children:[Object(w.jsx)(R.a,{className:"placeholder-icon"}),Object(w.jsx)("h4",{children:" Pick a favourite to display"})]},u));return Object(w.jsxs)("div",{children:[Object(w.jsx)("h1",{style:{marginTop:"30px",fontSize:"30px",fontFamily:"sans-serif"},children:"Your favourites all in one place."}),Object(w.jsx)(E,{favs:n}),Object(w.jsxs)(k.a,{swipeable:!1,draggable:!1,showDots:!1,responsive:{desktop:{breakpoint:{max:3e3,min:1024},items:3,slidesToSlide:3},tablet:{breakpoint:{max:1024,min:464},items:2,slidesToSlide:2},mobile:{breakpoint:{max:464,min:0},items:1,slidesToSlide:1}},ssr:!0,infinite:!0,autoPlay:"mobile"!==t&&c>3,autoPlaySpeed:1e3,keyBoardControl:!0,customTransition:"all 4",transitionDuration:4e3,containerClass:"carousel-container",removeArrowOnDeviceType:["tablet","mobile"],deviceType:t,dotListClass:"custom-dot-list-style",itemClass:"carousel-item-padding-40-px",className:"fav-carousel",children:[n.map((function(e){return Object(w.jsxs)("div",{children:[Object(w.jsx)(O.a,{className:"remove-button",title:"Remove",style:{color:"crimson",position:"absolute",top:"-21px",zIndex:1},onClick:function(){return r(e)},children:Object(w.jsx)(C.a,{title:"Remove",label:"Remove"})}),Object(w.jsx)("img",{src:e.img,alt:e.Title,style:{position:"relative"}}),Object(w.jsx)("h4",{children:e.Title})]},e.imdbID)})),i]})]})}var L=n(157),G=n(161),J=n(156),B=n(160),M=n(75),z=n.n(M),W=n(60),Y=n.n(W);function H(e){return Object(w.jsxs)("div",{children:[Object(w.jsx)("h1",{className:"movie-title",children:e.Title}),Object(w.jsx)("img",{src:e.img,alt:e.Title})]})}var K=n(72),U=n.n(K),V=n(73),q=n.n(V),Q=n(162),X=n(163),Z=n(153),$=n(154),_=n(150),ee=n(152),te=n(151),ne=n(5),ae=Object(ne.a)((function(){return{body:{fontSize:14,color:"white",borderBottom:"none"}}}))(_.a),re=Object(ne.a)((function(){return{root:{"&:nth-of-type(odd)":{backgroundColor:"#191919"}}}}))(te.a);function ce(e){var t=e.movieDetails;function n(e,t,n,a,r,c){return{Genre:e,Plot:t,Runtime:n,Actors:a,Awards:r,imdbRating:c}}var a=[n("GENRE",t.Genre),n("RUNTIME",t.RunTime),n("ACTORS",t.Actors),n("IMDB RATING",t.imdbRating),n("AWARDS",t.Awards),n("PLOT",t.Plot)];return Object(w.jsx)(ee.a,{children:Object(w.jsx)(Z.a,{"aria-label":"simple table",style:{minWidth:"1100px"},children:Object(w.jsx)($.a,{children:a.map((function(e,n){return Object(w.jsxs)(re,{children:[Object(w.jsx)(_.a,{component:"th",scope:"row",style:{borderBottom:"none"},children:e.name}),Object.keys(t).map((function(t,n){return Object(w.jsx)(ae,{align:"center",children:e[t]},n)}))]},"".concat(e.name," ").concat(n))}))})})})}var ie=n(155);function oe(){return Object(w.jsx)("div",{className:"loading",children:Object(w.jsx)(ie.a,{color:"secondary"})})}n(113);function se(e){return Object(w.jsx)(X.a,Object(j.a)({elevation:6,variant:"filled"},e))}var le=Object(f.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}},button:{margin:e.spacing(1),marginTop:"30px","&.Mui-disabled":{color:"ghostwhite",backgroundColor:"darkgrey"}}}}));function de(e){var t=e.favs,n=e.imdbID,r=e.removeFav,c="https://www.omdbapi.com/?apikey=d66f3ecf&i=",i=Object(a.useState)({}),o=Object(u.a)(i,2),s=o[0],b=o[1],h=Object(a.useState)(!1),m=Object(u.a)(h,2),p=m[0],v=m[1],f=Object(a.useState)(!1),O=Object(u.a)(f,2),x=O[0],g=O[1],y=le(),S=function(){v(!1)};Object(a.useEffect)((function(){return I()}),[]);var I=function(){g(!0),c+="".concat(n),fetch(c).then(function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:t=e.sent,b((function(e){return Object(j.a)(Object(j.a)({},e),{},{Genre:t.Genre,Plot:t.Plot,RunTime:t.Runtime,Actors:t.Actors,Awards:t.Awards,imdbRating:t.imdbRating})}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),g(!1)},k=function(){return t.some((function(e){return e.imdbID===n}))};return x?Object(w.jsx)(oe,{}):Object(w.jsxs)("div",{children:[Object(w.jsx)(ce,{movieDetails:s,imdbID:n}),Object(w.jsx)("div",{className:y.root,children:6===t.length&&Object(w.jsx)(Q.a,{open:p,autoHideDuration:6e3,onClose:S,children:Object(w.jsx)(se,{onClose:S,variant:"filled",severity:"warning",children:"You've reached your max of 6 favourites!"})})}),Object(w.jsx)(F.a,{variant:"contained",color:"secondary",className:y.button,startIcon:Object(w.jsx)(U.a,{}),onClick:function(){e.handleClick(),v(!0)},disabled:k()||t.length>=6,children:"Favourite"}),k()&&Object(w.jsx)(F.a,{variant:"contained",color:"secondary",className:y.button,startIcon:Object(w.jsx)(q.a,{}),onClick:r,children:"Remove Favourite"})]})}function ue(e){var t=e.removeFav;return Object(w.jsxs)("div",{style:{marginTop:"-27px"},children:[Object(w.jsx)(H,{Title:e.Title,img:e.img,alt:e.Title}),Object(w.jsx)("h4",{children:e.year}),Object(w.jsx)(de,{favs:e.favs,imdbID:e.imdbID,removeFav:function(){return t(e)},handleClick:function(){e.handleAddFav({Title:e.Title,img:e.img,alt:e.Title,imdbID:e.imdbID})}})]})}function be(e){var t=e.children,n=e.value,a=e.index,r=(e.id,e.searchResults,Object(h.a)(e,["children","value","index","id","searchResults"]));return Object(w.jsx)("div",Object(j.a)(Object(j.a)({role:"tabpanel",id:"vertical-tabpanel-".concat(a),"aria-labelledby":"vertical-tab-".concat(a)},r),{},{children:n===a&&Object(w.jsx)(B.a,{children:t})}))}var je=Object(f.a)((function(e){return{root:{flexGrow:1,display:"flex",height:650,marginTop:"43px"},tabs:{borderRight:"1px solid ".concat(e.palette.divider),marginLeft:"18px"}}}));function he(e){var t=e.removeFav,n=e.searchResults,a=e.handleAddFav,c=e.favs,i=je(),o=r.a.useState(0),s=Object(u.a)(o,2),l=s[0],d=s[1];return Object(w.jsxs)("div",{className:i.root,children:[Object(w.jsx)(G.a,{orientation:"vertical",variant:"scrollable",value:l,onChange:function(e,t){d(t)},onKeyDown:function(t){l<e.searchResults.length-1&&("ArrowDown"===t.key&&l>=0?d(l+1):"ArrowUp"===t.key&&d(l-1))},"aria-label":"Vertical tabs example",className:i.tabs,children:n.map((function(e,t){return Object(w.jsx)(J.a,Object(j.a)({label:e.title},function(e){return{id:"vertical-tab-".concat(e),"aria-controls":"vertical-tabpanel-".concat(e)}}(t)),t)}))}),n.map((function(e,n){return Object(w.jsx)(be,{value:l,index:n,children:Object(w.jsx)(ue,{favs:c,Title:e.title,img:e.url,year:e.year,imdbID:e.imdbID,handleAddFav:a,removeFav:t})},"".concat(n," ").concat(e.imdbID))}))]})}var me=n(74),pe=n.n(me);function ve(e){var t=e.errorMessage;return Object(w.jsxs)("div",{className:"error-div",children:[Object(w.jsx)(pe.a,{className:"error-icon"}),Object(w.jsx)("h2",{children:t})]})}n(114);function fe(e){var t=e.movieName,n=e.handleAddFav,a=e.removeFav,r=e.searchResults,c=e.error,i=e.loading;return Object(w.jsxs)(w.Fragment,{children:[i&&Object(w.jsx)(oe,{}),r&&r.length>0&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("h1",{className:"results-heading",children:['Results for "',t,'"']}),Object(w.jsx)(he,{favs:e.favs,handleAddFav:n,removeFav:a,searchResults:r})]}),!r&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h1",{className:"Search",children:"Search"}),Object(w.jsx)("h2",{className:"Search-info",children:"Please enter a movie in the search bar."})]}),c&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("h1",{className:"results-heading",children:['Results for "',t,'"']}),Object(w.jsx)(ve,{errorMessage:c})]})]})}var Oe=n(158),xe=n(159);function ge(e){var t=e.children,n=e.value,a=e.index,r=Object(h.a)(e,["children","value","index"]);return Object(w.jsx)("div",Object(j.a)(Object(j.a)({role:"tabpanel",hidden:n!==a,id:"scrollable-auto-tabpanel-".concat(a),"aria-labelledby":"scrollable-auto-tab-".concat(a)},r),{},{children:n===a&&Object(w.jsx)(B.a,{children:t})}))}function we(e){return{id:"scrollable-auto-tab-".concat(e),"aria-controls":"scrollable-auto-tabpanel-".concat(e)}}var ye=Object(f.a)((function(e){return{root:{flexGrow:1,width:"100%"},menuButton:{marginRight:e.spacing(2)},title:Object(b.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(b.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(v.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(v.c)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(b.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}}));function Se(){var e=Object(a.useState)(JSON.parse(sessionStorage.getItem("favs"))||[]),t=Object(u.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(JSON.parse(sessionStorage.getItem("value"))||0),i=Object(u.a)(c,2),s=i[0],b=i[1],h=Object(a.useState)(sessionStorage.getItem("movieName")||null),m=Object(u.a)(h,2),p=m[0],v=m[1],f=Object(a.useState)(JSON.parse(sessionStorage.getItem("searchResults"))||null),O=Object(u.a)(f,2),x=O[0],g=O[1],y=Object(a.useState)(JSON.parse(sessionStorage.getItem("error"))||null),I=Object(u.a)(y,2),k=I[0],T=I[1],R=Object(a.useState)(!1),N=Object(u.a)(R,2),C=N[0],F=N[1],D=ye();Object(a.useEffect)((function(){sessionStorage.setItem("favs",JSON.stringify(n)),sessionStorage.setItem("value",s),sessionStorage.setItem("searchResults",JSON.stringify(x)),sessionStorage.setItem("movieName",p),sessionStorage.setItem("error",JSON.stringify(k))}),[n,s,x,p,k]);var A=function(e){r((function(t){return[].concat(Object(o.a)(t),[e])}))},E=function(e){r(n.filter((function(t){return t.Title!==e.Title})))};return Object(w.jsx)("div",{className:"App",children:Object(w.jsxs)("div",{className:D.root,children:[Object(w.jsx)(L.a,{position:"static",color:"default",children:Object(w.jsxs)(Oe.a,{children:[Object(w.jsxs)(G.a,{value:s,onChange:function(e,t){b(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto","aria-label":"scrollable auto tabs example",children:[Object(w.jsx)(J.a,Object(j.a)({icon:Object(w.jsx)(z.a,{}),label:"Home"},we(0))),Object(w.jsx)(J.a,Object(j.a)({icon:Object(w.jsx)(Y.a,{}),label:"Search"},we(1)))]}),Object(w.jsx)(xe.a,{className:D.title,variant:"h6",noWrap:!0}),Object(w.jsxs)("div",{className:D.search,children:[Object(w.jsx)("div",{className:D.searchIcon,children:Object(w.jsx)(Y.a,{})}),Object(w.jsx)(S,{handleSearch:function(e,t,n){v(e),F(!0),fetch(t,{headers:{Accept:"application/json"}}).then(function(){var e=Object(d.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:t=e.sent,"True"===t.Response?(t.Search.forEach((function(e){n.push({title:e.Title,url:e.Poster,year:e.Year,imdbID:e.imdbID})})),g(n),T(null)):(a=t.Error,T(a),g([]));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){return console.log("response",e)})),F(!1),b(1)}})]})]})}),Object(w.jsx)(ge,{value:s,index:0,children:Object(w.jsx)(P,{deviceType:"desktop",favs:n,handleAddFav:A,removeFav:E})}),Object(w.jsx)(ge,{value:s,index:1,children:Object(w.jsx)(fe,{movieName:p,favs:n,error:k,searchResults:x,loading:C,handleAddFav:A,removeFav:E})})]})})}var Ie=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,166)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};i.a.render(Object(w.jsx)(r.a.StrictMode,{children:Object(w.jsx)(Se,{})}),document.getElementById("root")),Ie()},91:function(e,t,n){},93:function(e,t,n){}},[[115,1,2]]]);
//# sourceMappingURL=main.0e6007ad.chunk.js.map